<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>WARP Streaming Format</title>
<meta content="Will Law" name="author">
<meta content="Luke Curley" name="author">
<meta content="Victor Vasiliev" name="author">
<meta content="Suhas Nandakumar" name="author">
<meta content="Kirill Pugin" name="author">
<meta content="
       This document specifies the WARP Streaming Format, designed to operate on Media Over QUIC Transport. 
    " name="description">
<meta content="xml2rfc 3.25.0" name="generator">
<meta content="MoQ" name="keyword">
<meta content="MoQTransport" name="keyword">
<meta content="WARP" name="keyword">
<meta content="draft-law-moq-warpstreamingformat-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.25.0
    Python 3.12.8
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.5
    lxml 5.3.0
    platformdirs 4.3.6
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-law-moq-warpstreamingformat.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">WARP Streaming Format</td>
<td class="right">January 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Law, et al.</td>
<td class="center">Expires 19 July 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Media Over QUIC</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-law-moq-warpstreamingformat-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-01-15" class="published">15 January 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-07-19">19 July 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">W. Law</div>
<div class="org">Akamai</div>
</div>
<div class="author">
      <div class="author-name">L. Curley</div>
<div class="org">Twitch</div>
</div>
<div class="author">
      <div class="author-name">V. Vasiliev</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">S. Nandakumar</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">K. Pugin</div>
<div class="org">Meta</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">WARP Streaming Format</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies the WARP Streaming Format, designed to operate on Media Over QUIC Transport.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://wilaw.github.io/MoQ/draft-law-moq-warpmedia.html">https://wilaw.github.io/MoQ/draft-law-moq-warpmedia.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-law-moq-warpstreamingformat/">https://datatracker.ietf.org/doc/draft-law-moq-warpstreamingformat/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Media Over QUIC Working Group mailing list (<span><a href="mailto:moq@ietf.org">mailto:moq@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/moq/">https://mailarchive.ietf.org/arch/browse/moq/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/moq/">https://www.ietf.org/mailman/listinfo/moq/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/wilaw/MoQ">https://github.com/wilaw/MoQ</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 19 July 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-media-packaging" class="internal xref">Media packaging</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-loc-packaging" class="internal xref">LOC packaging</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-time-alignment" class="internal xref">Time-alignment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-content-protection-and-encr" class="internal xref">Content protection and encryption</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-catalog" class="internal xref">Catalog</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-catalog-fields" class="internal xref">Catalog Fields</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-warp-version" class="internal xref">WARP version</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-supports-delta-updates" class="internal xref">Supports delta updates</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-tracks" class="internal xref">Tracks</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="auto internal xref">4.2.3</a>.  <a href="#name-tracks-object" class="internal xref">Tracks object</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="auto internal xref">4.2.4</a>.  <a href="#name-track-namespace" class="internal xref">Track namespace</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a href="#section-4.2.5" class="auto internal xref">4.2.5</a>.  <a href="#name-track-name" class="internal xref">Track name</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a href="#section-4.2.6" class="auto internal xref">4.2.6</a>.  <a href="#name-packaging" class="internal xref">Packaging</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.7">
                    <p id="section-toc.1-1.4.2.2.2.7.1"><a href="#section-4.2.7" class="auto internal xref">4.2.7</a>.  <a href="#name-track-label" class="internal xref">Track label</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.8">
                    <p id="section-toc.1-1.4.2.2.2.8.1"><a href="#section-4.2.8" class="auto internal xref">4.2.8</a>.  <a href="#name-render-group" class="internal xref">Render group</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.9">
                    <p id="section-toc.1-1.4.2.2.2.9.1"><a href="#section-4.2.9" class="auto internal xref">4.2.9</a>.  <a href="#name-alternate-group" class="internal xref">Alternate group</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.10">
                    <p id="section-toc.1-1.4.2.2.2.10.1"><a href="#section-4.2.10" class="auto internal xref">4.2.10</a>. <a href="#name-initialization-data" class="internal xref">Initialization data</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.11">
                    <p id="section-toc.1-1.4.2.2.2.11.1"><a href="#section-4.2.11" class="auto internal xref">4.2.11</a>. <a href="#name-dependencies" class="internal xref">Dependencies</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.12">
                    <p id="section-toc.1-1.4.2.2.2.12.1"><a href="#section-4.2.12" class="auto internal xref">4.2.12</a>. <a href="#name-temporal-id" class="internal xref">Temporal ID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.13">
                    <p id="section-toc.1-1.4.2.2.2.13.1"><a href="#section-4.2.13" class="auto internal xref">4.2.13</a>. <a href="#name-spatial-id" class="internal xref">Spatial ID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.14">
                    <p id="section-toc.1-1.4.2.2.2.14.1"><a href="#section-4.2.14" class="auto internal xref">4.2.14</a>. <a href="#name-codec" class="internal xref">Codec</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.15">
                    <p id="section-toc.1-1.4.2.2.2.15.1"><a href="#section-4.2.15" class="auto internal xref">4.2.15</a>. <a href="#name-mimetype" class="internal xref">Mimetype</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.16">
                    <p id="section-toc.1-1.4.2.2.2.16.1"><a href="#section-4.2.16" class="auto internal xref">4.2.16</a>. <a href="#name-framerate" class="internal xref">Framerate</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.17">
                    <p id="section-toc.1-1.4.2.2.2.17.1"><a href="#section-4.2.17" class="auto internal xref">4.2.17</a>. <a href="#name-bitrate" class="internal xref">Bitrate</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.18">
                    <p id="section-toc.1-1.4.2.2.2.18.1"><a href="#section-4.2.18" class="auto internal xref">4.2.18</a>. <a href="#name-width" class="internal xref">Width</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.19">
                    <p id="section-toc.1-1.4.2.2.2.19.1"><a href="#section-4.2.19" class="auto internal xref">4.2.19</a>. <a href="#name-height" class="internal xref">Height</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.20">
                    <p id="section-toc.1-1.4.2.2.2.20.1"><a href="#section-4.2.20" class="auto internal xref">4.2.20</a>. <a href="#name-audio-sample-rate" class="internal xref">Audio sample rate</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.21">
                    <p id="section-toc.1-1.4.2.2.2.21.1"><a href="#section-4.2.21" class="auto internal xref">4.2.21</a>. <a href="#name-channel-configuration" class="internal xref">Channel configuration</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.22">
                    <p id="section-toc.1-1.4.2.2.2.22.1"><a href="#section-4.2.22" class="auto internal xref">4.2.22</a>. <a href="#name-display-width" class="internal xref">Display width</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.23">
                    <p id="section-toc.1-1.4.2.2.2.23.1"><a href="#section-4.2.23" class="auto internal xref">4.2.23</a>. <a href="#name-display-height" class="internal xref">Display height</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.24">
                    <p id="section-toc.1-1.4.2.2.2.24.1"><a href="#section-4.2.24" class="auto internal xref">4.2.24</a>. <a href="#name-language" class="internal xref">Language</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-catalog-patch" class="internal xref">Catalog Patch</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-catalog-examples" class="internal xref">Catalog Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="auto internal xref">4.4.1</a>.  <a href="#name-time-aligned-audio-video-tr" class="internal xref">Time-aligned Audio/Video Tracks with single quality</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="auto internal xref">4.4.2</a>.  <a href="#name-simulcast-video-tracks-3-al" class="internal xref">Simulcast video tracks - 3 alternate qualities along with audio</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="auto internal xref">4.4.3</a>.  <a href="#name-svc-video-tracks-with-2-spa" class="internal xref">SVC video tracks with 2 spatial and 2 temporal qualities</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a href="#section-4.4.4" class="auto internal xref">4.4.4</a>.  <a href="#name-patch-update-adding-a-track" class="internal xref">Patch update adding a track</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.5">
                    <p id="section-toc.1-1.4.2.4.2.5.1"><a href="#section-4.4.5" class="auto internal xref">4.4.5</a>.  <a href="#name-patch-update-removing-a-tra" class="internal xref">Patch update removing a track</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.6">
                    <p id="section-toc.1-1.4.2.4.2.6.1"><a href="#section-4.4.6" class="auto internal xref">4.4.6</a>.  <a href="#name-patch-update-removing-all-t" class="internal xref">Patch update removing all tracks and terminating the broadcast</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.7">
                    <p id="section-toc.1-1.4.2.4.2.7.1"><a href="#section-4.4.7" class="auto internal xref">4.4.7</a>.  <a href="#name-time-aligned-audio-video-tra" class="internal xref">Time-aligned Audio/Video Tracks with custom field values</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-media-transmission" class="internal xref">Media transmission</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-timeline-track" class="internal xref">Timeline track</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-timeline-track-payload" class="internal xref">Timeline track payload</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-timeline-catalog-requiremen" class="internal xref">Timeline Catalog requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-timeline-track-updating" class="internal xref">Timeline track updating.</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-workflow" class="internal xref">Workflow</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">WARP Streaming Format (WARP) is a media format designed to deliver LOC <span>[<a href="#LOC" class="cite xref">LOC</a>]</span>
compliant media content over Media Over QUIC Transport (MOQT) <span>[<a href="#MoQTransport" class="cite xref">MoQTransport</a>]</span>.
WARP works by fragmenting the bitstream into objects that can be independently
transmitted. WARP leverages a catalog format to describe the output of the
original publisher. WARP specifies how content should be packaged and signaled,
defines how the catalog communicates the content, specifies prioritization
strategies for real-time and workflows for beginning and terminating broadcasts.
WARP also details how end-subscribers may perform adaptive bitrate switching.
WARP is targeted at real-time and interactive levels of live latency.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This document describes version 1 of the streaming format.<a href="#section-1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document uses the conventions detailed in Section 1.3 of <span>[<a href="#RFC9000" class="cite xref">RFC9000</a>]</span> when
describing the binary encoding.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mediapackaging">
<section id="section-3">
      <h2 id="name-media-packaging">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-media-packaging" class="section-name selfRef">Media packaging</a>
      </h2>
<p id="section-3-1">WARP delivers LOC <span>[<a href="#LOC" class="cite xref">LOC</a>]</span> packaged media bitstreams.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="loc-packaging">
<section id="section-3.1">
        <h3 id="name-loc-packaging">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-loc-packaging" class="section-name selfRef">LOC packaging</a>
        </h3>
<p id="section-3.1-1">This specification references Low Overhead Container (LOC) <span>[<a href="#LOC" class="cite xref">LOC</a>]</span> to define how
audio and video content is packaged. With this packaging mode, each
EncodedAudioChunk or EncodedVideoChunk sample is placed in a separate MOQT
Object. Samples that belong to the same Group of Pictures (GOP) <span class="bcp14">MUST</span> be placed
within the same MOQT Group.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">When LOC packaging is used for a track, the catalog packaging attribute
(<a href="#packaging" class="auto internal xref">Section 4.2.6</a>) <span class="bcp14">MUST</span> be present and it <span class="bcp14">MUST</span> be populated with a value of "loc".<a href="#section-3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="timealignment">
<section id="section-3.2">
        <h3 id="name-time-alignment">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-time-alignment" class="section-name selfRef">Time-alignment</a>
        </h3>
<p id="section-3.2-1">WARP Tracks <span class="bcp14">MAY</span> be time-aligned. Those that are, are subject to the following
requirements:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-2.1">
            <p id="section-3.2-2.1.1">Time-aligned tracks <span class="bcp14">MUST</span> be advertised in the catalog as belonging to a common
render group.<a href="#section-3.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.2-2.2">
            <p id="section-3.2-2.2.1">The render duration of the first media object of each equally numbered MOQT
Group, after decoding, <span class="bcp14">MUST</span> have overlapping presentation time.<a href="#section-3.2-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-3">A consequence of this restriction is that a WARP receiver <span class="bcp14">SHOULD</span> be able to
cleanly switch between time-aligned media tracks at group boundaries.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contentprotection">
<section id="section-3.3">
        <h3 id="name-content-protection-and-encr">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-content-protection-and-encr" class="section-name selfRef">Content protection and encryption</a>
        </h3>
<p id="section-3.3-1">ToDo - content protection for LOC-packaged content.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="catalog">
<section id="section-4">
      <h2 id="name-catalog">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-catalog" class="section-name selfRef">Catalog</a>
      </h2>
<p id="section-4-1">A Catalog is a MOQT Track that provides information about the other tracks being
produced by a WARP publisher. A Catalog is used by WARP publishers for
advertising their output and for subscribers in consuming that output. The
payload of the Catalog object is opaque to Relays and can be end-to-end
encrypted. The Catalog provides the names and namespaces of the tracks being
produced, along with therelationship between tracks, properties of the tracks
that consumers may use for selection and any relevant initialization data.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The catalog track <span class="bcp14">MUST</span> have a case-sensitive Track Name of "catalog".<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">A catalog object <span class="bcp14">MAY</span> be independent of other catalog objects or it <span class="bcp14">MAY</span> represent
a delta update of a prior catalog object. The first catalog object published
within a new group <span class="bcp14">MUST</span> be independent.  A catalog object <span class="bcp14">SHOULD</span> only be
published only when the availability of tracks changes.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Each catalog update <span class="bcp14">MUST</span> be mapped to a discreet MOQT Object.<a href="#section-4-4" class="pilcrow">¶</a></p>
<div id="catalog-fields">
<section id="section-4.1">
        <h3 id="name-catalog-fields">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-catalog-fields" class="section-name selfRef">Catalog Fields</a>
        </h3>
<p id="section-4.1-1">A catalog is a JSON <span>[<a href="#JSON" class="cite xref">JSON</a>]</span> document, comprised of a series of mandatory and
optional fields. At a minimum, a catalog <span class="bcp14">MUST</span> provide all mandatory fields and
a 'tracks' field. A producer <span class="bcp14">MAY</span> add additional fields to the ones described in
this draft. Custom field names <span class="bcp14">MUST NOT</span> collide with field names described in
this draft. The order of field names within the JSON document is not important.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">A parser <span class="bcp14">MUST</span> ignore fields it does not understand.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Table 1 provides an overview of all fields defined by this document.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Field</th>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Definition</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">WARP version</td>
              <td class="text-left" rowspan="1" colspan="1">version</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#warpversion" class="auto internal xref">Section 4.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Supports delta updates</td>
              <td class="text-left" rowspan="1" colspan="1">supportsDeltaUpdates</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#supportsdeltaupdates" class="auto internal xref">Section 4.2.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Tracks</td>
              <td class="text-left" rowspan="1" colspan="1">tracks</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#tracks" class="auto internal xref">Section 4.2.2</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Track namespace</td>
              <td class="text-left" rowspan="1" colspan="1">namespace</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#tracknamespace" class="auto internal xref">Section 4.2.4</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Track name</td>
              <td class="text-left" rowspan="1" colspan="1">name</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#trackname" class="auto internal xref">Section 4.2.5</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Packaging</td>
              <td class="text-left" rowspan="1" colspan="1">packaging</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#packaging" class="auto internal xref">Section 4.2.6</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Track label</td>
              <td class="text-left" rowspan="1" colspan="1">label</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#tracklabel" class="auto internal xref">Section 4.2.7</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Render group</td>
              <td class="text-left" rowspan="1" colspan="1">renderGroup</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#rendergroup" class="auto internal xref">Section 4.2.8</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Alternate group</td>
              <td class="text-left" rowspan="1" colspan="1">altGroup</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#altgroup" class="auto internal xref">Section 4.2.9</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Initialization data</td>
              <td class="text-left" rowspan="1" colspan="1">initData</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#initdata" class="auto internal xref">Section 4.2.10</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Dependencies</td>
              <td class="text-left" rowspan="1" colspan="1">depends</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#dependencies" class="auto internal xref">Section 4.2.11</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Temporal ID</td>
              <td class="text-left" rowspan="1" colspan="1">temporalId</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#temporalid" class="auto internal xref">Section 4.2.12</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Spatial ID</td>
              <td class="text-left" rowspan="1" colspan="1">spatialId</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#spatialid" class="auto internal xref">Section 4.2.13</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Codec</td>
              <td class="text-left" rowspan="1" colspan="1">codec</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#codec" class="auto internal xref">Section 4.2.14</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Mime type</td>
              <td class="text-left" rowspan="1" colspan="1">mimeType</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#mimetype" class="auto internal xref">Section 4.2.15</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Framerate</td>
              <td class="text-left" rowspan="1" colspan="1">framerate</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#framerate" class="auto internal xref">Section 4.2.16</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Bitrate</td>
              <td class="text-left" rowspan="1" colspan="1">bitrate</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#bitrate" class="auto internal xref">Section 4.2.17</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Width</td>
              <td class="text-left" rowspan="1" colspan="1">width</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#width" class="auto internal xref">Section 4.2.18</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Height</td>
              <td class="text-left" rowspan="1" colspan="1">height</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#height" class="auto internal xref">Section 4.2.19</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Audio sample rate</td>
              <td class="text-left" rowspan="1" colspan="1">samplerate</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#audiosamplerate" class="auto internal xref">Section 4.2.20</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Channel configuration</td>
              <td class="text-left" rowspan="1" colspan="1">channelConfig</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#channelconfiguration" class="auto internal xref">Section 4.2.21</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Display width</td>
              <td class="text-left" rowspan="1" colspan="1">displayWidth</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#displaywidth" class="auto internal xref">Section 4.2.22</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Display height</td>
              <td class="text-left" rowspan="1" colspan="1">displayHeight</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#displayheight" class="auto internal xref">Section 4.2.23</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Language</td>
              <td class="text-left" rowspan="1" colspan="1">lang</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#language" class="auto internal xref">Section 4.2.24</a>
</td>
            </tr>
          </tbody>
        </table>
<p id="section-4.1-5">Table 2 defines the allowed locations for these fields within the document<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Location</th>
              <th class="text-left" rowspan="1" colspan="1">Allowed locations for the field</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">R</td>
              <td class="text-left" rowspan="1" colspan="1">The Root of the JSON object</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">T</td>
              <td class="text-left" rowspan="1" colspan="1">Track object</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="warpversion">
<section id="section-4.2">
        <h3 id="name-warp-version">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-warp-version" class="section-name selfRef">WARP version</a>
        </h3>
<p id="section-4.2-1">Location: R    Required: Yes    JSON Type: Number<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Specifies the version of WARP referenced by this catalog. There is no guarantee
that future catalog versions are backwards compatible and field definitions and
interpretation may change between versions. A subscriber <span class="bcp14">MUST NOT</span> attempt to
parse a catalog version which it does not understand.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<div id="supportsdeltaupdates">
<section id="section-4.2.1">
          <h4 id="name-supports-delta-updates">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-supports-delta-updates" class="section-name selfRef">Supports delta updates</a>
          </h4>
<p id="section-4.2.1-1">Location: R    Required: Optional    JSON Type: Boolean<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">A Boolean that if true indicates that the publisher <span class="bcp14">MAY</span> issue incremental
(delta) updates - see <a href="#patch" class="auto internal xref">Section 4.3</a>. If false or absent, then the publisher
guarantees that they will NOT issue any incremental updates and that any
future updates to the catalog will be independent. The default value is
false. This field <span class="bcp14">MUST</span> be present if its value is true, but may be omitted
if the value is false.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tracks">
<section id="section-4.2.2">
          <h4 id="name-tracks">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-tracks" class="section-name selfRef">Tracks</a>
          </h4>
<p id="section-4.2.2-1">Location: R    Required: Yes    JSON Type: Array<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">An array of track objects <a href="#trackobject" class="auto internal xref">Section 4.2.3</a>.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trackobject">
<section id="section-4.2.3">
          <h4 id="name-tracks-object">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-tracks-object" class="section-name selfRef">Tracks object</a>
          </h4>
<p id="section-4.2.3-1">A track object is a collection of fields whose location is specified 'T' in
Table 2.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tracknamespace">
<section id="section-4.2.4">
          <h4 id="name-track-namespace">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-track-namespace" class="section-name selfRef">Track namespace</a>
          </h4>
<p id="section-4.2.4-1">Location: TFC    Required: Optional    JSON Type: String<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<p id="section-4.2.4-2">The name space under which the track name is defined. See section 2.3 of
<span>[<a href="#MoQTransport" class="cite xref">MoQTransport</a>]</span>. The track namespace is optional. If it is not declared within
a track, then each track <span class="bcp14">MUST</span> inherit the namespace of the catalog track. A
namespace declared in a track object overwrites any inherited name space.<a href="#section-4.2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trackname">
<section id="section-4.2.5">
          <h4 id="name-track-name">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-track-name" class="section-name selfRef">Track name</a>
          </h4>
<p id="section-4.2.5-1">Location: T    Required: Yes   JSON Type: String<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
<p id="section-4.2.5-2">A string defining the name of the track. See section 2.3 of <span>[<a href="#MoQTransport" class="cite xref">MoQTransport</a>]</span>.
Within the catalog, track names <span class="bcp14">MUST</span> be unique per namespace.<a href="#section-4.2.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="packaging">
<section id="section-4.2.6">
          <h4 id="name-packaging">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-packaging" class="section-name selfRef">Packaging</a>
          </h4>
<p id="section-4.2.6-1">Location: T    Required: Yes   JSON Type: String<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
<p id="section-4.2.6-2">A string defining the type of payload encapsulation. Allowed values are strings
as defined in Table 3.<a href="#section-4.2.6-2" class="pilcrow">¶</a></p>
<p id="section-4.2.6-3">Table 3: Allowed packaging values<a href="#section-4.2.6-3" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
            <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Name</th>
                <th class="text-left" rowspan="1" colspan="1">Value</th>
                <th class="text-left" rowspan="1" colspan="1">Draft</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">LOC</td>
                <td class="text-left" rowspan="1" colspan="1">"loc"</td>
                <td class="text-left" rowspan="1" colspan="1">See RFC XXXX</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="tracklabel">
<section id="section-4.2.7">
          <h4 id="name-track-label">
<a href="#section-4.2.7" class="section-number selfRef">4.2.7. </a><a href="#name-track-label" class="section-name selfRef">Track label</a>
          </h4>
<p id="section-4.2.7-1">Location: TF    Required: Optional   JSON Type: String<a href="#section-4.2.7-1" class="pilcrow">¶</a></p>
<p id="section-4.2.7-2">A string defining a human-readable label for the track. Examples might be
"Overhead camera view" or "Deutscher Kommentar". Note that the <span>[<a href="#JSON" class="cite xref">JSON</a>]</span> spec
requires UTF-8 support by decoders.<a href="#section-4.2.7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rendergroup">
<section id="section-4.2.8">
          <h4 id="name-render-group">
<a href="#section-4.2.8" class="section-number selfRef">4.2.8. </a><a href="#name-render-group" class="section-name selfRef">Render group</a>
          </h4>
<p id="section-4.2.8-1">Location: TF    Required: Optional   JSON Type: Number<a href="#section-4.2.8-1" class="pilcrow">¶</a></p>
<p id="section-4.2.8-2">An integer specifying a group of tracks which are designed to be rendered
together. Tracks with the same group number <span class="bcp14">SHOULD</span> be rendered simultaneously,
are usually time-aligned and are designed to accompany one another. A common
example would be tying together audio and video tracks.<a href="#section-4.2.8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="altgroup">
<section id="section-4.2.9">
          <h4 id="name-alternate-group">
<a href="#section-4.2.9" class="section-number selfRef">4.2.9. </a><a href="#name-alternate-group" class="section-name selfRef">Alternate group</a>
          </h4>
<p id="section-4.2.9-1">Location: TF    Required: Optional   JSON Type: Number<a href="#section-4.2.9-1" class="pilcrow">¶</a></p>
<p id="section-4.2.9-2">An integer specifying a group of tracks which are alternate versions of
one-another. Alternate tracks represent the same media content, but differ in
their selection properties. Alternate tracks <span class="bcp14">SHOULD</span> have matching framerate
<a href="#framerate" class="auto internal xref">Section 4.2.16</a> and media time sequences. A subscriber typically subscribes to
one track from a set of tracks specifying the same alternate group number. A
common example would be a set video tracks of the same content offered in
alternate bitrates.<a href="#section-4.2.9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="initdata">
<section id="section-4.2.10">
          <h4 id="name-initialization-data">
<a href="#section-4.2.10" class="section-number selfRef">4.2.10. </a><a href="#name-initialization-data" class="section-name selfRef">Initialization data</a>
          </h4>
<p id="section-4.2.10-1">Location: TF    Required: Optional   JSON Type: String<a href="#section-4.2.10-1" class="pilcrow">¶</a></p>
<p id="section-4.2.10-2">A string holding Base64 <span>[<a href="#BASE64" class="cite xref">BASE64</a>]</span> encoded initialization data for the track.<a href="#section-4.2.10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dependencies">
<section id="section-4.2.11">
          <h4 id="name-dependencies">
<a href="#section-4.2.11" class="section-number selfRef">4.2.11. </a><a href="#name-dependencies" class="section-name selfRef">Dependencies</a>
          </h4>
<p id="section-4.2.11-1">Location: T    Required: Optional   JSON Type: Array<a href="#section-4.2.11-1" class="pilcrow">¶</a></p>
<p id="section-4.2.11-2">Certain tracks may depend on other tracks for decoding. Dependencies holds an
array of track names <a href="#trackname" class="auto internal xref">Section 4.2.5</a> on which the current track is dependent.
Since only the track name is signaled, the namespace of the dependencies is
assumed to match that of the track declaring the dependencies.<a href="#section-4.2.11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="temporalid">
<section id="section-4.2.12">
          <h4 id="name-temporal-id">
<a href="#section-4.2.12" class="section-number selfRef">4.2.12. </a><a href="#name-temporal-id" class="section-name selfRef">Temporal ID</a>
          </h4>
<p id="section-4.2.12-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.12-1" class="pilcrow">¶</a></p>
<p id="section-4.2.12-2">A number identifying the temporal layer/sub-layer encoding of the track,
starting with 0 for the base layer, and increasing with higher temporal
fidelity.<a href="#section-4.2.12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="spatialid">
<section id="section-4.2.13">
          <h4 id="name-spatial-id">
<a href="#section-4.2.13" class="section-number selfRef">4.2.13. </a><a href="#name-spatial-id" class="section-name selfRef">Spatial ID</a>
          </h4>
<p id="section-4.2.13-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.13-1" class="pilcrow">¶</a></p>
<p id="section-4.2.13-2">A number identifying the spatial layer encoding of the track, starting with 0
for the base layer, and increasing with higher fidelity.<a href="#section-4.2.13-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="codec">
<section id="section-4.2.14">
          <h4 id="name-codec">
<a href="#section-4.2.14" class="section-number selfRef">4.2.14. </a><a href="#name-codec" class="section-name selfRef">Codec</a>
          </h4>
<p id="section-4.2.14-1">Location: T    Required: Optional   JSON Type: String<a href="#section-4.2.14-1" class="pilcrow">¶</a></p>
<p id="section-4.2.14-2">A string defining the codec used to encode the track.
For LOC packaged content, the string codec registrations are defined in Sect 3
and Section 4 of <span>[<a href="#WEBCODECS-CODEC-REGISTRY" class="cite xref">WEBCODECS-CODEC-REGISTRY</a>]</span>.<a href="#section-4.2.14-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mimetype">
<section id="section-4.2.15">
          <h4 id="name-mimetype">
<a href="#section-4.2.15" class="section-number selfRef">4.2.15. </a><a href="#name-mimetype" class="section-name selfRef">Mimetype</a>
          </h4>
<p id="section-4.2.15-1">Location: T    Required: Optional   JSON Type: String<a href="#section-4.2.15-1" class="pilcrow">¶</a></p>
<p id="section-4.2.15-2">A string defining the mime type <span>[<a href="#MIME" class="cite xref">MIME</a>]</span> of the track.<a href="#section-4.2.15-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="framerate">
<section id="section-4.2.16">
          <h4 id="name-framerate">
<a href="#section-4.2.16" class="section-number selfRef">4.2.16. </a><a href="#name-framerate" class="section-name selfRef">Framerate</a>
          </h4>
<p id="section-4.2.16-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.16-1" class="pilcrow">¶</a></p>
<p id="section-4.2.16-2">A number defining the video framerate of the track, expressed as frames per
second.<a href="#section-4.2.16-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bitrate">
<section id="section-4.2.17">
          <h4 id="name-bitrate">
<a href="#section-4.2.17" class="section-number selfRef">4.2.17. </a><a href="#name-bitrate" class="section-name selfRef">Bitrate</a>
          </h4>
<p id="section-4.2.17-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.17-1" class="pilcrow">¶</a></p>
<p id="section-4.2.17-2">A number defining the bitrate of track, expressed in bits per second.<a href="#section-4.2.17-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="width">
<section id="section-4.2.18">
          <h4 id="name-width">
<a href="#section-4.2.18" class="section-number selfRef">4.2.18. </a><a href="#name-width" class="section-name selfRef">Width</a>
          </h4>
<p id="section-4.2.18-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.18-1" class="pilcrow">¶</a></p>
<p id="section-4.2.18-2">A number expressing the encoded width of the video frames in pixels.<a href="#section-4.2.18-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="height">
<section id="section-4.2.19">
          <h4 id="name-height">
<a href="#section-4.2.19" class="section-number selfRef">4.2.19. </a><a href="#name-height" class="section-name selfRef">Height</a>
          </h4>
<p id="section-4.2.19-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.19-1" class="pilcrow">¶</a></p>
<p id="section-4.2.19-2">A number expressing the encoded height of the video frames in pixels.<a href="#section-4.2.19-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="audiosamplerate">
<section id="section-4.2.20">
          <h4 id="name-audio-sample-rate">
<a href="#section-4.2.20" class="section-number selfRef">4.2.20. </a><a href="#name-audio-sample-rate" class="section-name selfRef">Audio sample rate</a>
          </h4>
<p id="section-4.2.20-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.20-1" class="pilcrow">¶</a></p>
<p id="section-4.2.20-2">The number of audio frame samples per second. This property <span class="bcp14">SHOULD</span> only
accompany audio codecs.<a href="#section-4.2.20-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channelconfiguration">
<section id="section-4.2.21">
          <h4 id="name-channel-configuration">
<a href="#section-4.2.21" class="section-number selfRef">4.2.21. </a><a href="#name-channel-configuration" class="section-name selfRef">Channel configuration</a>
          </h4>
<p id="section-4.2.21-1">Location: T    Required: Optional   JSON Type: String<a href="#section-4.2.21-1" class="pilcrow">¶</a></p>
<p id="section-4.2.21-2">A string specifying the audio channel configuration. This property <span class="bcp14">SHOULD</span> only
accompany audio codecs. A string is used in order to provide the flexibility to
describe complex channel configurations for multi-channel and Next Generation
Audio schemas.<a href="#section-4.2.21-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="displaywidth">
<section id="section-4.2.22">
          <h4 id="name-display-width">
<a href="#section-4.2.22" class="section-number selfRef">4.2.22. </a><a href="#name-display-width" class="section-name selfRef">Display width</a>
          </h4>
<p id="section-4.2.22-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.22-1" class="pilcrow">¶</a></p>
<p id="section-4.2.22-2">A number expressing the intended display width of the track content in pixels.<a href="#section-4.2.22-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="displayheight">
<section id="section-4.2.23">
          <h4 id="name-display-height">
<a href="#section-4.2.23" class="section-number selfRef">4.2.23. </a><a href="#name-display-height" class="section-name selfRef">Display height</a>
          </h4>
<p id="section-4.2.23-1">Location: T    Required: Optional   JSON Type: Number<a href="#section-4.2.23-1" class="pilcrow">¶</a></p>
<p id="section-4.2.23-2">A number expressing the intended display height of the track content in pixels.<a href="#section-4.2.23-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="language">
<section id="section-4.2.24">
          <h4 id="name-language">
<a href="#section-4.2.24" class="section-number selfRef">4.2.24. </a><a href="#name-language" class="section-name selfRef">Language</a>
          </h4>
<p id="section-4.2.24-1">Location: T    Required: Optional   JSON Type: String<a href="#section-4.2.24-1" class="pilcrow">¶</a></p>
<p id="section-4.2.24-2">A string defining the dominant language of the track. The string <span class="bcp14">MUST</span> be one of
the standard Tags for Identifying Languages as defined by <span>[<a href="#LANG" class="cite xref">LANG</a>]</span>.<a href="#section-4.2.24-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="patch">
<section id="section-4.3">
        <h3 id="name-catalog-patch">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-catalog-patch" class="section-name selfRef">Catalog Patch</a>
        </h3>
<p id="section-4.3-1">A catalog update might contain incremental changes. This is a useful property if
many tracks may be initially declared but then there are small changes to a
subset of tracks. The producer can issue a patch to describe these small
changes. Changes are described incrementally, meaning that a patch can itself
modify a prior patch. Patching leverages JSON PATCH <span>[<a href="#JSON-PATCH" class="cite xref">JSON-PATCH</a>]</span> to modify the
catalog.   JSON Patch is a format for expressing a sequence of operations to
apply to a target JSON document.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The following rules <span class="bcp14">MUST</span> be followed in processing patches:<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-3.1">
            <p id="section-4.3-3.1.1">The target JSON to be modified is the JSON document described by the preceding
<span>[<a href="#MoQTransport" class="cite xref">MoQTransport</a>]</span> Object in the Catalog track, post any patching that may have
been applied to that Object.<a href="#section-4.3-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-3.2">
            <p id="section-4.3-3.2.1">A Catalog Patch is identified by having a single array at the root level,
holding a series of JSON objects, each object representing a single operation
to be applied to the target JSON document.<a href="#section-4.3-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-3.3">
            <p id="section-4.3-3.3.1">Operations are applied sequentially in the order they appear in the array.
Each operation in the sequence is applied to the target document; the
resulting document becomes the target of the next operation.  Evaluation
continues until all operations are successfully applied or until an error
condition is encountered.<a href="#section-4.3-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-3.4">
            <p id="section-4.3-3.4.1">Track namespaces and track names may not be changed across patch updates
To change either namespace or name, remove the track and then add a new track
with matching properties and the new namespace and name.<a href="#section-4.3-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-3.5">
            <p id="section-4.3-3.5.1">Contents of the track selection properties object may not be varied across
updates. To adjust a track selection property, the track must first be removed
and then added with the new selection properties and a different name.<a href="#section-4.3-3.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="catalog-examples">
<section id="section-4.4">
        <h3 id="name-catalog-examples">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-catalog-examples" class="section-name selfRef">Catalog Examples</a>
        </h3>
<p id="section-4.4-1">The following section provides non-normative JSON examples of various catalogs
compliant with this draft.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div id="time-aligned-audiovideo-tracks-with-single-quality">
<section id="section-4.4.1">
          <h4 id="name-time-aligned-audio-video-tr">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-time-aligned-audio-video-tr" class="section-name selfRef">Time-aligned Audio/Video Tracks with single quality</a>
          </h4>
<p id="section-4.4.1-1">This example shows catalog for a media producer capable of sending LOC packaged,
time-aligned audio and video tracks.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.1-2">
<pre>
{
  "version": 1,
  "tracks": [
    {
      "name": "video",
      "namespace": "conference.example.com/conference123/alice",
      "packaging": "loc",
      "renderGroup": 1,
      "codec":"av01.0.08M.10.0.110.09",
      "width":1920,
      "height":1080,
      "framerate":30,
      "bitrate":1500000
    },
    {
      "name": "audio",
      "namespace": "conference.example.com/conference123/alice",
      "packaging": "loc",
      "renderGroup": 1,
      "codec":"opus",
      "samplerate":48000,
      "channelConfig":"2",
      "bitrate":32000
    }
   ]
}

</pre><a href="#section-4.4.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="simulcast-video-tracks-3-alternate-qualities-along-with-audio">
<section id="section-4.4.2">
          <h4 id="name-simulcast-video-tracks-3-al">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-simulcast-video-tracks-3-al" class="section-name selfRef">Simulcast video tracks - 3 alternate qualities along with audio</a>
          </h4>
<p id="section-4.4.2-1">This example shows catalog for a media producer capable of sending 3
time-aligned video tracks for high definition, low definition and medium
definition video qualities, along with an audio track. In this example the
namespace is absent, which infers that each track must inherit the namespace
of the catalog. Additionally this example shows the presence of the
supportsDeltaUpdates flag.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.2-2">
<pre>
{
  "version": 1,
  "supportsDeltaUpdates": true,
  "tracks":[
    {
      "name": "hd",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01",
      "width":1920,
      "height":1080,
      "bitrate":5000000,
      "framerate":30,
      "altGroup":1
    },
    {
      "name": "md",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01",
      "width":720,
      "height":640,
      "bitrate":3000000,
      "framerate":30,
      "altGroup":1
    },
    {
      "name": "sd",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01",
      "width":192,
      "height":144,
      "bitrate":500000,
      "framerate":30,
      "altGroup":1
    },
    {
      "name": "audio",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"opus",
      "samplerate":48000,
      "channelConfig":"2",
      "bitrate":32000
    }
   ]
}
</pre><a href="#section-4.4.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="svc-video-tracks-with-2-spatial-and-2-temporal-qualities">
<section id="section-4.4.3">
          <h4 id="name-svc-video-tracks-with-2-spa">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-svc-video-tracks-with-2-spa" class="section-name selfRef">SVC video tracks with 2 spatial and 2 temporal qualities</a>
          </h4>
<p id="section-4.4.3-1">This example shows catalog for a media producer capable
of sending scalable video codec with 2 spatial and 2 temporal
layers with a dependency relation as shown below:<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
<div class="lang-ascii-figure sourcecode" id="section-4.4.3-2">
<pre>
                  +----------+
     +-----------&gt;|  S1T1    |
     |            | 1080p30  |
     |            +----------+
     |                  ^
     |                  |
+----------+            |
|  S1TO    |            |
| 1080p15  |            |
+----------+      +-----+----+
      ^           |  SOT1    |
      |           | 480p30   |
      |           +----------+
      |               ^
+----------+          |
|  SOTO     |         |
| 480p15    |---------+
+----------+
</pre><a href="#section-4.4.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.3-3">The corresponding catalog uses "depends" attribute to
express the track relationships.<a href="#section-4.4.3-3" class="pilcrow">¶</a></p>
<div class="breakable lang-json sourcecode" id="section-4.4.3-4">
<pre>
{
  "version": 1,
  "supportsDeltaUpdates": true,
  "tracks":[
    {
      "name": "480p15",
      "namespace": "conference.example.com/conference123/alice",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01.0.01M.10.0.110.09",
      "width":640,
      "height":480,
      "bitrate":3000000,
      "framerate":15
    },
    {
      "name": "480p30",
      "namespace": "conference.example.com/conference123/alice",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01.0.04M.10.0.110.09",
      "width":640,
      "height":480,
      "bitrate":3000000,
      "framerate":30,
      "depends": ["480p15"]
    },
    {
      "name": "1080p15",
      "namespace": "conference.example.com/conference123/alice",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01.0.05M.10.0.110.09",
      "width":1920,
      "height":1080,
      "bitrate":3000000,
      "framerate":15,
      "depends":["480p15"]
    },

    {
      "name": "1080p30",
      "namespace": "conference.example.com/conference123/alice",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"av01.0.08M.10.0.110.09",
      "width":1920,
      "height":1080,
      "bitrate":5000000,
      "framerate":30,
      "depends": ["480p30", "1080p15"]
    },
    {
      "name": "audio",
      "namespace": "conference.example.com/conference123/alice",
      "renderGroup": 1,
      "packaging": "loc",
      "codec":"opus",
      "samplerate":48000,
      "channelConfig":"2",
      "bitrate":32000
    }
   ]
}
</pre><a href="#section-4.4.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="patch-update-adding-a-track">
<section id="section-4.4.4">
          <h4 id="name-patch-update-adding-a-track">
<a href="#section-4.4.4" class="section-number selfRef">4.4.4. </a><a href="#name-patch-update-adding-a-track" class="section-name selfRef">Patch update adding a track</a>
          </h4>
<p id="section-4.4.4-1">This example shows catalog for the media producer adding a slide track to an
established video conference.<a href="#section-4.4.4-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.4-2">
<pre>
[
    {
        "op": "add",
        "path": "/tracks/-",
        "value": {
            "name": "slides",
            "codec": "av01.0.08M.10.0.110.09",
            "width": 1920,
            "height": 1080,
            "framerate": 15,
            "bitrate": 750000,
            "renderGroup": 1
        }
    }
]


</pre><a href="#section-4.4.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="patch-update-removing-a-track">
<section id="section-4.4.5">
          <h4 id="name-patch-update-removing-a-tra">
<a href="#section-4.4.5" class="section-number selfRef">4.4.5. </a><a href="#name-patch-update-removing-a-tra" class="section-name selfRef">Patch update removing a track</a>
          </h4>
<p id="section-4.4.5-1">This example shows patch catalog update for a media producer removing the track
from an established video conference.<a href="#section-4.4.5-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.5-2">
<pre>
[
  { "op": "remove", "path": "/tracks/2"}
]
</pre><a href="#section-4.4.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="patch-update-removing-all-tracks-and-terminating-the-broadcast">
<section id="section-4.4.6">
          <h4 id="name-patch-update-removing-all-t">
<a href="#section-4.4.6" class="section-number selfRef">4.4.6. </a><a href="#name-patch-update-removing-all-t" class="section-name selfRef">Patch update removing all tracks and terminating the broadcast</a>
          </h4>
<p id="section-4.4.6-1">This example shows a patch catalog update for a media producer removing all
tracks and terminating the broadcast.<a href="#section-4.4.6-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.6-2">
<pre>
[
  { "op": "remove", "path": "/tracks/2"},
  { "op": "remove", "path": "/tracks/1"},
  { "op": "remove", "path": "/tracks/0"},
]

</pre><a href="#section-4.4.6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="time-aligned-audiovideo-tracks-with-custom-field-values">
<section id="section-4.4.7">
          <h4 id="name-time-aligned-audio-video-tra">
<a href="#section-4.4.7" class="section-number selfRef">4.4.7. </a><a href="#name-time-aligned-audio-video-tra" class="section-name selfRef">Time-aligned Audio/Video Tracks with custom field values</a>
          </h4>
<p id="section-4.4.7-1">This example shows catalog for a media producer capable of sending LOC packaged,
time-aligned audio and video tracks along with custom fields in each track
description.<a href="#section-4.4.7-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.4.7-2">
<pre>
{
  "version": 1,
  "tracks": [
    {
      "name": "video",
      "namespace": "conference.example.com/conference123/alice",
      "packaging": "loc",
      "renderGroup": 1,
      "codec":"av01.0.08M.10.0.110.09",
      "width":1920,
      "height":1080,
      "framerate":30,
      "bitrate":1500000,
      "com.example-billing-code": 3201,
      "com.example-tier": "premium",
      "com.example-debug": "h349835bfkjfg82394d945034jsdfn349fns"
    },
    {
      "name": "audio",
      "namespace": "conference.example.com/conference123/alice",
      "packaging": "loc",
      "renderGroup": 1,
      "codec":"opus",
      "samplerate":48000,
      "channelConfig":"2",
      "bitrate":32000
    }
   ]
}

</pre><a href="#section-4.4.7-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="media-transmission">
<section id="section-5">
      <h2 id="name-media-transmission">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-media-transmission" class="section-name selfRef">Media transmission</a>
      </h2>
<p id="section-5-1">The MOQT Groups and MOQT Objects need to be mapped to MOQT Streams. Irrespective
of the <a href="#mediapackaging" class="auto internal xref">Section 3</a> in place, each MOQT Object <span class="bcp14">MUST</span> be mapped to a new
MOQT Stream.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="timeline-track">
<section id="section-6">
      <h2 id="name-timeline-track">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-timeline-track" class="section-name selfRef">Timeline track</a>
      </h2>
<p id="section-6-1">The timeline track provides data about the previously published groups and their
relationship to wallclock time, media time and associated timed-metadata.
Timeline tracks allow players to seek to precise points behind the live head in
a live broadcast, or for random access in a VOD asset. A timeline track may also
be used to insert events at media times which do not correlate with Object
boundaries. Timeline tracks are optional. Multiple timeline tracks <span class="bcp14">MAY</span> exist
inside a catalog.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="timeline-track-payload">
<section id="section-6.1">
        <h3 id="name-timeline-track-payload">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-timeline-track-payload" class="section-name selfRef">Timeline track payload</a>
        </h3>
<p id="section-6.1-1">The payload of a timeline track is a UTF-8 encoded CSV text file. This payload
is formatted according to RFC4180 "Common Format and MIME Type for
Comma-Separated Values (CSV)" Files <span>[<a href="#RFC4180" class="cite xref">RFC4180</a>]</span>. The separator is a comma and
each line is separated by a carriage return. The mime-type of a timeline track
<span class="bcp14">MUST</span> be specified as "text/csv" in the catalog.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Each timeline track begins with a header row of MEDIA_PTS,GROUP_ID,OBJECT_ID,
WALLCLOCK,METADATA. This row defines the 5 columns of data within each record.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-3.1">
            <p id="section-6.1-3.1.1">MEDIA_PTS: a media timestamp rounded to the nearest millisecond. This entry
<span class="bcp14">MUST</span> not be empty. If the Object ID entry is present, then this value <span class="bcp14">MUST</span>
match the media presentation timestamp of the first media sample in the
referenced Object.<a href="#section-6.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-3.2">
            <p id="section-6.1-3.2.1">GROUP_ID: the MOQT Group ID. This entry <span class="bcp14">MAY</span> be empty.<a href="#section-6.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-3.3">
            <p id="section-6.1-3.3.1">OBJECT_ID: the MOQT Object ID. This entry <span class="bcp14">MAY</span> be empty.<a href="#section-6.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-3.4">
            <p id="section-6.1-3.4.1">WALLCLOCK: the wallclock time at which the media was encoded, expressed as
the number of milliseconds that have elapsed since January 1, 1970
(midnight UTC/GMT). For VOD assets, or if the wallclock time is not known,
the value <span class="bcp14">SHOULD</span> be 0.<a href="#section-6.1-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-3.5">
            <p id="section-6.1-3.5.1">METADATA: a flexible field holding arbitrary string metadata. This field may
be empty. If not empty, it <span class="bcp14">MUST</span> be enclosed in double quotes. A double-quote
appearing inside this field <span class="bcp14">MUST</span> be escaped by preceding it with another
double quote.<a href="#section-6.1-3.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="timeline-catalog-requirements">
<section id="section-6.2">
        <h3 id="name-timeline-catalog-requiremen">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-timeline-catalog-requiremen" class="section-name selfRef">Timeline Catalog requirements</a>
        </h3>
<p id="section-6.2-1">A timeline track <span class="bcp14">MUST</span> carry a 'type' identifier in the Catalog with a value of
"timeline". A timeline track <span class="bcp14">MUST</span> carry a 'dependencies' attribute which
contains an array of all track names to which the timeline track applies.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="timeline-track-updating">
<section id="section-6.3">
        <h3 id="name-timeline-track-updating">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-timeline-track-updating" class="section-name selfRef">Timeline track updating.</a>
        </h3>
<p id="section-6.3-1">The publisher <span class="bcp14">MUST</span> publish a complete timeline in the first MOQT Object of each
MOQT Group. The publisher <span class="bcp14">MAY</span> publish incremental updates in the second and
subsequent Objects within each GROUP. Incremental updates only contain timeline
events since the last timeline Object. Group duration <span class="bcp14">SHOULD</span> not exceed 30
seconds.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="workflow">
<section id="section-7">
      <h2 id="name-workflow">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-workflow" class="section-name selfRef">Workflow</a>
      </h2>
<p id="section-7-1">A WARP publisher <span class="bcp14">MUST</span> publish a catalog track object before publishing any media
track objects.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">At the completion of a session, a publisher <span class="bcp14">MUST</span> publish a catalog update that
removes all currently active tracks.  This action <span class="bcp14">SHOULD</span> be interpreted by
receivers to mean that the publish session is complete.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">ToDo<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">This document creates a new entry in the "MoQ Streaming Format" Registry
(see <span>[<a href="#MoQTransport" class="cite xref">MoQTransport</a>]</span> Sect 8).  The type value is 0x001, the name is
"WARP Streaming Format" and the RFC is XXX.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-normative-references">
<section id="section-10">
      <h2 id="name-normative-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="BASE64">[BASE64]</dt>
      <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSON">[JSON]</dt>
      <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSON-PATCH">[JSON-PATCH]</dt>
      <dd>
<span class="refAuthor">Bryan, P., Ed.</span> and <span class="refAuthor">M. Nottingham, Ed.</span>, <span class="refTitle">"JavaScript Object Notation (JSON) Patch"</span>, <span class="seriesInfo">RFC 6902</span>, <span class="seriesInfo">DOI 10.17487/RFC6902</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6902">https://www.rfc-editor.org/rfc/rfc6902</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LANG">[LANG]</dt>
      <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Tags for Identifying Languages"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 5646</span>, <span class="seriesInfo">DOI 10.17487/RFC5646</span>, <time datetime="2009-09" class="refDate">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5646">https://www.rfc-editor.org/rfc/rfc5646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LOC">[LOC]</dt>
      <dd>
<span class="refAuthor">Zanaty, M.</span>, <span class="refAuthor">Nandakumar, S.</span>, and <span class="refAuthor">P. Thatcher</span>, <span class="refTitle">"Low Overhead Media Container"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-mzanaty-moq-loc-03</span>, <time datetime="2024-03-04" class="refDate">4 March 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-mzanaty-moq-loc-03">https://datatracker.ietf.org/doc/html/draft-mzanaty-moq-loc-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MIME">[MIME]</dt>
      <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MoQTransport">[MoQTransport]</dt>
      <dd>
<span class="refAuthor">Curley, L.</span>, <span class="refAuthor">Pugin, K.</span>, <span class="refAuthor">Nandakumar, S.</span>, <span class="refAuthor">Vasiliev, V.</span>, and <span class="refAuthor">I. Swett</span>, <span class="refTitle">"Media over QUIC Transport"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-moq-transport-05</span>, <time datetime="2024-07-08" class="refDate">8 July 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-moq-transport-05">https://datatracker.ietf.org/doc/html/draft-ietf-moq-transport-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4180">[RFC4180]</dt>
      <dd>
<span class="refAuthor">Shafranovich, Y.</span>, <span class="refTitle">"Common Format and MIME Type for Comma-Separated Values (CSV) Files"</span>, <span class="seriesInfo">RFC 4180</span>, <span class="seriesInfo">DOI 10.17487/RFC4180</span>, <time datetime="2005-10" class="refDate">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4180">https://www.rfc-editor.org/rfc/rfc4180</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
      <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5226">https://www.rfc-editor.org/rfc/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[RFC9000]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WEBCODECS-CODEC-REGISTRY">[WEBCODECS-CODEC-REGISTRY]</dt>
    <dd>
<span class="refTitle">"WebCodecs Codec Registry"</span>, <time datetime="2024-09" class="refDate">September 2024</time>, <span>&lt;<a href="https://www.w3.org/TR/webcodecs-codec-registry/">https://www.w3.org/TR/webcodecs-codec-registry/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<ul class="normal">
<li class="normal" id="appendix-A-1.1">
          <p id="appendix-A-1.1.1">the MoQ Workgroup and mailing lists.<a href="#appendix-A-1.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Will Law</span></div>
<div dir="auto" class="left"><span class="org">Akamai</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wilaw@akamai.com" class="email">wilaw@akamai.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luke Curley</span></div>
<div dir="auto" class="left"><span class="org">Twitch</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kixelated@gmail.com" class="email">kixelated@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Victor Vasiliev</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vasilvv@google.com" class="email">vasilvv@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Suhas Nandakumar</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:snandaku@cisco.com" class="email">snandaku@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kirill Pugin</span></div>
<div dir="auto" class="left"><span class="org">Meta</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ikir@meta.com" class="email">ikir@meta.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
